import{C as y,D as u,Ga as i,Ia as C,Ja as w,Ka as v,La as T,Ma as F,Na as M,Qa as m,a as g,b as h,ca as b,g as n,lb as N,q as p,w as l,x as S,y as c}from"./chunk-XPVSHVWV.js";var x=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=y({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(s,r){s&1&&b(0,"router-outlet")},dependencies:[M],styles:["[_nghost-%COMP%]{display:block}"]});let o=e;return o})();var f={maxFormsCount:{id:"setting1",title:"Max Forms Count",value:10,controlType:"input"},dropdownAppearance:{id:"setting3",title:"Dropdown Appearance",value:"input",controlType:"select",options:["input","focus"]},formCancellableSeconds:{id:"setting4",title:"Form Cancellable In Seconds",value:15,controlType:"input"}};var I=(()=>{let e=class e{intercept(t,s){return t.url.endsWith("/api/checkUsername")&&t.method==="POST"?this.handleCheckUsername(t):t.url.endsWith("/api/submitForm")&&t.method==="POST"?this.handleSubmitForm():t.url.endsWith("/api/settings")&&t.method==="GET"?this.handleGetSettings():t.url.endsWith("/api/settings")&&t.method==="POST"?this.handlePostSettings(t.body):n(new i({status:404,body:{result:"You are using the wrong endpoint"}}))}handleCheckUsername(t){let s=t.body.username.includes("new"),r=new i({status:200,body:{isAvailable:s}});return n(r).pipe(p(500),l(()=>console.log("checkUsername response:",{isAvailable:s})))}handleSubmitForm(){let t=new i({status:200,body:{result:"nice job"}});return n(t).pipe(p(500),l(()=>console.log("submitForm response")))}handleGetSettings(){let t=new i({status:200,body:this._getSettings()??f});return n(t).pipe(p(500),l(()=>console.log("get settings response")))}handlePostSettings(t){let s=this._getSettings()??f,r=this._updateSettings(s,t),a=new i({status:200,body:{success:!0,updatedSettings:r}});return this._saveSettings(r),n(a).pipe(p(500),l(()=>console.log("post settings response")))}_getSettings(){let t=localStorage.getItem("settings");try{return t?JSON.parse(t):null}catch{return null}}_saveSettings(t){t&&localStorage.setItem("settings",JSON.stringify(t))}_updateSettings(t,s){let r=structuredClone(t);for(let a in r)r[a]=h(g({},r[a]),{value:s[a]});return r}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac});let o=e;return o})();var j=[{path:"",loadChildren:()=>import("./chunk-72NAVMPR.js").then(o=>o.CoreModule)},{path:"**",redirectTo:""}],O=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=u({type:e}),e.\u0275inj=c({imports:[m.forRoot(j),m]});let o=e;return o})();var P=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=u({type:e,bootstrap:[x]}),e.\u0275inj=c({providers:[w(v()),{provide:C,useClass:I,multi:!0}],imports:[F,O,N]});let o=e;return o})();T().bootstrapModule(P).catch(o=>console.error(o));
